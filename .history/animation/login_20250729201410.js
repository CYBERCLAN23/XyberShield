function showNotification(message, type, targetId) {
      const notif = document.getElementById(targetId);
      notif.textContent = message;
      notif.className = `notification ${type}`;
      notif.style.display = "block";
      setTimeout(() => {
        notif.style.display = "none";
      }, 4000);
    }

    function isValidEmail(email) {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    }
    function isValidPassword(password) {
      const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;
      return regex.test(password);
    }
    function login() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      // Hide previous alerts
      document.getElementById("email-alert").classList.remove("show");
      document.getElementById("password-alert").classList.remove("show");
      document.getElementById("email-alert").textContent = "";
      document.getElementById("password-alert").textContent = "";
      let hasError = false;
      if (!email) {
        document.getElementById("email-alert").textContent = "Veuillez remplir l'email üî¥";
        document.getElementById("email-alert").classList.add("show");
        document.getElementById("email").classList.add("input-error");
        hasError = true;
      } else if (!isValidEmail(email)) {
        document.getElementById("email-alert").textContent = "Email invalide ‚ùå";
        document.getElementById("email-alert").classList.add("show");
        document.getElementById("email").classList.add("input-error");
        hasError = true;
      } else {
        document.getElementById("email").classList.remove("input-error");
      }
      if (!password) {
        document.getElementById("password-alert").textContent = "Veuillez remplir le mot de passe üî¥";
        document.getElementById("password-alert").classList.add("show");
        document.getElementById("password").classList.add("input-error");
        hasError = true;
      } else {
        let pwdErrors = [];
        if (password.length < 8) {
          pwdErrors.push("Au moins 8 caract√®res");
        }
        if (!/[A-Z]/.test(password)) {
          pwdErrors.push("Une majuscule");
        }
        if (!/[a-z]/.test(password)) {
          pwdErrors.push("Une minuscule");
        }
        if (!/\d/.test(password)) {
          pwdErrors.push("Un chiffre");
        }
        if (pwdErrors.length > 0) {
          document.getElementById("password-alert").textContent = "Mot de passe invalide: " + pwdErrors.join(", ") + " ‚ùå";
          document.getElementById("password-alert").classList.add("show");
          document.getElementById("password").classList.add("input-error");
          hasError = true;
        } else {
          document.getElementById("password").classList.remove("input-error");
        }
      }
      if (hasError) {
        showNotification("Erreur dans le formulaire. Corrigez les champs en rouge.", "error", "notification");
      } else {
        showNotification("Connexion r√©ussie ‚úÖ", "success", "notification");
        // Show welcome notification at body top
        const welcome = document.getElementById("welcome-notification");
        welcome.textContent = "Bienvenue sur XyberShield! Vous √™tes connect√©.";
        welcome.className = "notification success";
        welcome.style.display = "block";
        setTimeout(() => {
          welcome.style.display = "none";
        }, 4000);
      }
    }

    function register() {
      const username = document.getElementById("username").value;
      if (username.length > 0) {
        showNotification("Enregistrement r√©ussi üéâ", "success", "notification");
      } else {
        showNotification("Veuillez saisir un nom d'utilisateur ‚ö†Ô∏è", "error", "notification");
      }
    }